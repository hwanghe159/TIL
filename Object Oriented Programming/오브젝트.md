- 이 책에서 쓰이는 클래스 다이어그램 표현
  - <img src="/Users/hwangjunho/Documents/GitHub/TIL/images/class-diagram-example.jpeg" alt="class-diagram-example" style="zoom:50%;" />

## 1장. 객체, 설계

- 동일한 기능을 여러 방법으로 설계할 수 있기 때문에 결국 설계는 트레이드오프의 산물이다. 어떤 경우도 모든 사람을 만족시킬 수 없다
- 훌륭한 객체지향 설계는 
  - 모든 객체들이 자율적으로 행동하는 설계
  - 협력하는 객체 사이의 의존성을 적절하게 관리하는 설계
- 좋은 설계란?
  1. 오늘 요구하는 기능을 온전히 수행하면서
  2. 내일의 변경을 매끄럽게 수용할 수 있는 설계
- 코드 수정을 회피하려는 가장 큰 원인은 버그를 추가할지도 모른다는 두려움

## 2장. 객체지향 프로그래밍

- 영화 예매 시스템 요구사항
  - 할인액을 결정하는 두가지 규칙
    1. 할인 조건
       - 할인 여부를 결정하고, 순서 조건과 기간 조건으로 나뉜다. 다수의 할인 조건을 지정할 수 있음
       - 순서 조건 : 상영 순번을 이용해 할인 여부를 결정
         - 순서 조건 = 10이면, 매일 10번째로 상영되는 영화에 할인 혜택 제공
       - 기간 조건 : 요일, 시작시간, 종료시간으로 할인 여부를 결정
         - 요일 = 월요일, 시작시간 = 10시, 종료시간 = 1시이면, 매주 월요일 10시~1시 사이에 상영되는 영화에 할인 혜택 제공
    2. 할인 정책
       - 할인 요금을 결정하고, 금액 할인 정책과 비율 할인 정책이 있음. 영화별로 하나 이하의 할인 정책만 할당할 수 있음
       - 금액 할인 정책 : 예매 요금에서 일정 금액을 할인해주는 방식
         - 영화 가격 = 9000원, 금액 할인 정책 = 800원일 경우, 예매 가격은 8200원
       - 비율 할인 정책 : 정가에서 일정 비율의 요금을 할인해주는 방식
         - 영화 가격 = 9000원, 비율 할인 정책 = 10%일 경우, 예매 가격은 8100원
  - 예
    - <img src="/Users/hwangjunho/Documents/GitHub/TIL/images/movie-example.jpeg" alt="movie-example" style="zoom:50%;" />

- 객체지향 프로그래밍을 하기 위해선..
  1. 어떤 클래스가 필요한지를 고민하기 전에 어떤 객체들이 필요한지 고민하기
  2. 객체를 독립적인 존재가 아니라 기능을 구현하기 위해 협력하는 공동체의 일원으로 보기
- 좋은 객체지향 설계의 또다른 특징 : 코드의 의존성과 실행 시점의 의존성이 다르다
  - 코드에선 인터페이스(또는 추상클래스)에만 의존하고 실행 시점엔 구현체 인스턴스에 의존할수록 좋은 객체지향 설계
  - 하지만 다르면 다를수록 코드를 이해하기 어려워진다. 모든건 트레이드오프!
- 상속보단 합성 (composition)
  - 단순히 코드를 재사용하기 위해 상속을 사용하는 건 좋지 않다
  - 상속은 다음의 이유로 비추
    1. 캡슐화를 위반한다 (상속을 이용하기 위해선 부모 클래스의 내부 구조를 잘 알고 있어야 한다, 자식-부모가 강결합된다)
    2. 설계를 유연하지 못하게 한다 (부모-자식 관계를 컴파일시점에 결정하기 때문에 실행시점에 객체의 종류를 바꿀 수 없다)
