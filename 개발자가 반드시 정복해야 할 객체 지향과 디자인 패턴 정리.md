# :book: 개발자가 반드시 정복해야 할 객체 지향과 디자인 패턴





## 객체 지향

객체지향을 잘 하려면 이와 대조되는 절차지향이 뭔지 알아야 한다. 

절차지향적으로 코드를 작성하는 습관을 버림으로써 객체지향에 다가갈 수 있다.





### 절차 지향과 객체 지향

#### 절차지향 프로그래밍 : 프로시저로 프로그램을 구성하는 기법

절차지향(Procedual Oriented) 프로그래밍은 사실 절차지향 프로그램이라는 이름보다는 프로시저 지향 프로그램이라고 부르는 것이 더 의미에 맞다.

절차지향 프로그래밍은 수많은 프로시저들이 데이터를 공유하는 방식으로 만들어지기 때문에 자연스레 데이터 중심으로 구현하게 된다.

절차 지향적으로 코드를 구현하는 건 쉽다. 하지만 프로그램 규모가 커지면 다음과 같은 문제가 발생한다.

- 한 곳에서의 수정이 다른 곳의 수정을 연쇄적으로 유발할 수 있으므로 코드의 수정을 어렵게 한다.
- 같은 데이터를 프로시저들이 서로 다른 의미로 사용하게 되는 경우가 발생한다.





#### 객체지향 프로그래밍 : 데이터 및 프로시저를 객체라 불리는 단위로 구성하는 기법

각 객체는 자신만의 프로시저와 데이터를 갖는다.

각 객체의 프로시저는 자신이 속한 객체의 데이터에만 접근 가능하고, 다른 객체의 데이터엔 접근할 수 없다.





객체 지향의 장점

- 한 객체의 변경이 해당 객체로만 변화가 집중되고 다른 객체에 영향을 주지 않는다. (쉽게 수정할 수 있는 유연함)





### 객체

객체의 핵심은 기능을 제공하는 기능이다. 객체가 내부적으로 어떤 데이터를 갖고 있는 지로는 정의되지 않는다.

오퍼레이션 : 객체가 제공하는 기능

시그너처 : 오퍼레이션의 사용법 (기능식별 이름, 파라미터 및 파라미터 타입, 기능실행 결과값으로 이루어짐)

인터페이스 : 객체가 제공하는 모든 오퍼레이션 집합, 객체를 사용하기 위한 일종의 규칙, 한 객체의 책임 (자바의 interface타입과는 다른개념)

클래스 : 객체의 구현을 정의

메시지를 보낸다 : 오퍼레이션 실행을 요청하는 것





### 객체의 책임과 크기

객체가 갖는 책임은 어떻게 결정될까? 이 결정을 하는 것이 객체 지향 설계의 출발점이다.

먼저 필요한 기능 목록을 정리하여 적절한 객체에 기능을 할당한다.

객체가 갖는 책임의 크기는 작을수록 좋다. (Single Responsibility Principle; SRP)

왜냐하면 한 객체에 기능이 많아지면 절차 지향적인 구조가 만들어지기 때문이다.





### 의존

```java
public class FlowController {
    /* fileName 필드 초기화 코드 생략 */
    
    public void process() {
        FileDataReader reader = new FileDataReader(fileName);
        
        /* 생략 */
    }
}
```

한 객체가 다른 객체를 생성하거나 다른 객체의 메서드를 호출할때, 이를 그 객체에 의존한다고 표현한다.

(위 코드에선 `FlowController`가 `FileDataReader`에 의존한다고 표현할 수 있다.)





A클래스, B클래스, C클래스가 있고, 

C클래스가 B클래스에, B클래스가 A클래스에 의존한다고 상상해보자.

그럼 A클래스의 변경은 B클래스의 변경을 초래할 가능성이 있고, 이는 또 C클래스의 변경을 초래할 수 있다.

게다가 만약 A클래스가 C클래스에 의존하게 된다면 순환의존이 발생하여 

A클래스의 변경이 여파가 A클래스에 되돌아올 수 있다.

순환의존이 발생하지 않도록 하는 원칙 중의 하나로 의존 역전 원칙 (Dependency Inversion Principle; DIP)이 있다.





### 캡슐화

캡슐화를 통해 한 곳의 변화가 다른 곳에 미치는 영향을 최소화한다.



### 객체 지향 설계 과정



## 다형성과 추상타입



## 재사용: 상속보단 조립



## 설계 원칙: SOLID



## DI(Dependency Injection)와 서비스 로케이터



## 주요 디자인 패턴



